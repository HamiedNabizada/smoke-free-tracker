<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Verfolge deinen Fortschritt beim Rauchstopp mit detaillierten Statistiken und Gesundheitsmeilensteinen">
    <meta name="theme-color" content="#667eea">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Rauchfrei">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Ccircle fill='%23667eea' cx='256' cy='256' r='256'/%3E%3Ctext x='256' y='350' text-anchor='middle' font-size='280' fill='white'%3EğŸš­%3C/text%3E%3C/svg%3E">

    <title>RauchentwÃ¶hnung Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš­ Meine RauchentwÃ¶hnung</h1>
            <button id="darkModeToggle" class="dark-mode-toggle" aria-label="Dark Mode umschalten">ğŸŒ™</button>
        </header>

        <!-- Tab Navigation -->
        <nav class="tab-navigation">
            <button class="tab-button active" data-tab="overview">
                <span class="tab-icon">ğŸ“Š</span>
                <span class="tab-label">Ãœbersicht</span>
            </button>
            <button class="tab-button" data-tab="milestones">
                <span class="tab-icon">ğŸ¥</span>
                <span class="tab-label">Meilensteine</span>
            </button>
            <button class="tab-button" data-tab="achievements">
                <span class="tab-icon">ğŸ†</span>
                <span class="tab-label">Erfolge</span>
            </button>
            <button class="tab-button" data-tab="statistics">
                <span class="tab-icon">ğŸ“ˆ</span>
                <span class="tab-label">Statistiken</span>
            </button>
            <button class="tab-button" data-tab="help">
                <span class="tab-icon">ğŸ†˜</span>
                <span class="tab-label">Hilfe</span>
            </button>
        </nav>

        <!-- Main Dashboard -->
        <div id="dashboard" class="dashboard">
            <!-- Tab Panel: Ãœbersicht -->
            <div class="tab-panel active" data-panel="overview">
                <!-- Daily Motivation -->
                <div class="card motivation-card">
                    <div class="motivation-icon">ğŸ’ª</div>
                    <div id="dailyMotivation" class="motivation-text"></div>
                </div>

                <!-- Health Avatar -->
                <div class="card health-avatar-card">
                    <h2>ğŸ« Dein KÃ¶rper erholt sich</h2>
                    <p class="health-avatar-subtitle">Sieh live, wie sich dein KÃ¶rper regeneriert!</p>

                    <div class="health-avatar-container">
                        <!-- Tooltip -->
                        <div class="health-tooltip hidden" id="healthTooltip"></div>

                        <!-- Left: Body Silhouette -->
                        <div class="body-silhouette">
                            <svg viewBox="0 0 200 400" xmlns="http://www.w3.org/2000/svg">
                                <!-- Body outline -->
                                <ellipse cx="100" cy="50" rx="35" ry="45" fill="#e0e0e0" opacity="0.3" />
                                <!-- Neck -->
                                <rect x="90" y="85" width="20" height="15" fill="#e0e0e0" opacity="0.3" />
                                <!-- Torso -->
                                <ellipse cx="100" cy="170" rx="60" ry="80" fill="#e0e0e0" opacity="0.3" />
                                <!-- Arms -->
                                <ellipse cx="50" cy="150" rx="15" ry="60" fill="#e0e0e0" opacity="0.3" />
                                <ellipse cx="150" cy="150" rx="15" ry="60" fill="#e0e0e0" opacity="0.3" />
                                <!-- Legs -->
                                <ellipse cx="80" cy="300" rx="18" ry="90" fill="#e0e0e0" opacity="0.3" />
                                <ellipse cx="120" cy="300" rx="18" ry="90" fill="#e0e0e0" opacity="0.3" />

                                <!-- Heart (animated) -->
                                <g id="heart" class="organ-heart">
                                    <path d="M100 140 L110 130 Q115 125 115 120 Q115 110 105 110 Q100 110 100 115 Q100 110 95 110 Q85 110 85 120 Q85 125 90 130 Z"
                                          fill="#ff6b6b" class="organ-fill" />
                                    <title>Herz</title>
                                </g>

                                <!-- Lungs (left and right) -->
                                <g id="lungs" class="organ-lungs">
                                    <!-- Left lung -->
                                    <ellipse cx="80" cy="140" rx="18" ry="35" fill="#95a5a6" class="organ-fill lung-left" />
                                    <!-- Right lung -->
                                    <ellipse cx="120" cy="140" rx="18" ry="35" fill="#95a5a6" class="organ-fill lung-right" />
                                    <title>Lungen</title>
                                </g>

                                <!-- Blood vessels (simplified) -->
                                <g id="blood-vessels" class="organ-blood">
                                    <line x1="100" y1="130" x2="80" y2="150" stroke="#e74c3c" stroke-width="3" class="vessel" opacity="0.6" />
                                    <line x1="100" y1="130" x2="120" y2="150" stroke="#e74c3c" stroke-width="3" class="vessel" opacity="0.6" />
                                    <line x1="100" y1="145" x2="100" y2="180" stroke="#e74c3c" stroke-width="3" class="vessel" opacity="0.6" />
                                    <title>BlutgefÃ¤ÃŸe</title>
                                </g>

                                <!-- Skin indicator (glow around body) -->
                                <ellipse id="skin-glow" cx="100" cy="170" rx="65" ry="85" fill="none"
                                         stroke="#f39c12" stroke-width="2" opacity="0.4" class="skin-glow" />
                            </svg>
                        </div>

                        <!-- Right: Stats -->
                        <div class="health-stats">
                            <div class="health-stat-item" data-organ="lungs">
                                <div class="health-stat-icon">ğŸ«</div>
                                <div class="health-stat-content">
                                    <div class="health-stat-label">Lungen</div>
                                    <div class="health-stat-bar">
                                        <div class="health-stat-fill" id="lungRegenBar"></div>
                                    </div>
                                    <div class="health-stat-value" id="lungRegenValue">0% regeneriert</div>
                                </div>
                            </div>

                            <div class="health-stat-item" data-organ="heart">
                                <div class="health-stat-icon">â¤ï¸</div>
                                <div class="health-stat-content">
                                    <div class="health-stat-label">Herz</div>
                                    <div class="health-stat-bar">
                                        <div class="health-stat-fill" id="heartRegenBar"></div>
                                    </div>
                                    <div class="health-stat-value" id="heartRegenValue">0% normalisiert</div>
                                </div>
                            </div>

                            <div class="health-stat-item" data-organ="blood">
                                <div class="health-stat-icon">ğŸ©¸</div>
                                <div class="health-stat-content">
                                    <div class="health-stat-label">Blutkreislauf</div>
                                    <div class="health-stat-bar">
                                        <div class="health-stat-fill" id="bloodRegenBar"></div>
                                    </div>
                                    <div class="health-stat-value" id="bloodRegenValue">0% verbessert</div>
                                </div>
                            </div>

                            <div class="health-stat-item" data-organ="skin">
                                <div class="health-stat-icon">âœ¨</div>
                                <div class="health-stat-content">
                                    <div class="health-stat-label">Haut</div>
                                    <div class="health-stat-bar">
                                        <div class="health-stat-fill" id="skinRegenBar"></div>
                                    </div>
                                    <div class="health-stat-value" id="skinRegenValue">0% verjÃ¼ngt</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Next Milestone Progress -->
                <div class="card">
                    <h2>NÃ¤chstes Ziel</h2>
                    <div id="nextMilestoneProgress"></div>
                </div>

                <!-- Progress Visualizations -->
                <div class="card progress-visuals-card">
                    <h2>Dein Fortschritt</h2>
                    <div class="progress-visuals-container">
                        <!-- Tree Visualization (Days) -->
                        <div class="progress-visual-item">
                            <svg class="tree-svg" viewBox="0 0 200 250" xmlns="http://www.w3.org/2000/svg">
                                <!-- Trunk -->
                                <rect x="85" y="150" width="30" height="90" fill="#8B4513" rx="5" id="treeTrunk"/>

                                <!-- Roots -->
                                <path d="M 85 235 Q 60 240 40 245" stroke="#654321" stroke-width="3" fill="none" opacity="0.6" id="root1"/>
                                <path d="M 115 235 Q 140 240 160 245" stroke="#654321" stroke-width="3" fill="none" opacity="0.6" id="root2"/>

                                <!-- Leaves Layer 3 (Top) -->
                                <circle cx="100" cy="80" r="35" fill="#90EE90" class="tree-leaves layer3" id="leaves3" opacity="0"/>

                                <!-- Leaves Layer 2 (Middle) -->
                                <circle cx="70" cy="110" r="30" fill="#7CCD7C" class="tree-leaves layer2" id="leaves2-left" opacity="0"/>
                                <circle cx="130" cy="110" r="30" fill="#7CCD7C" class="tree-leaves layer2" id="leaves2-right" opacity="0"/>

                                <!-- Leaves Layer 1 (Bottom) -->
                                <circle cx="100" cy="140" r="40" fill="#6B8E23" class="tree-leaves layer1" id="leaves1" opacity="0"/>

                                <!-- Small branches (visible as tree grows) -->
                                <line x1="85" y1="180" x2="60" y2="190" stroke="#8B4513" stroke-width="4" id="branch1" opacity="0"/>
                                <line x1="115" y1="180" x2="140" y2="190" stroke="#8B4513" stroke-width="4" id="branch2" opacity="0"/>
                                <line x1="85" y1="160" x2="55" y2="165" stroke="#8B4513" stroke-width="3" id="branch3" opacity="0"/>
                                <line x1="115" y1="160" x2="145" y2="165" stroke="#8B4513" stroke-width="3" id="branch4" opacity="0"/>
                            </svg>
                            <div class="progress-visual-label">
                                <div class="progress-visual-value" id="treeDaysValue">0</div>
                                <div class="progress-visual-text">Tage rauchfrei</div>
                                <div class="progress-visual-goal" id="treeGoalText">Ziel: 365 Tage</div>
                            </div>
                        </div>

                        <!-- Piggy Bank Visualization (Money) -->
                        <div class="progress-visual-item">
                            <svg class="piggy-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                                <!-- Piggy Bank Body -->
                                <ellipse cx="100" cy="110" rx="60" ry="45" fill="#FFB6C1" id="piggyBody"/>

                                <!-- Piggy Head -->
                                <circle cx="140" cy="90" r="25" fill="#FFB6C1" id="piggyHead"/>

                                <!-- Snout -->
                                <ellipse cx="155" cy="90" rx="12" ry="10" fill="#FF69B4" id="piggySnout"/>
                                <circle cx="150" cy="87" r="2" fill="#8B4513"/>
                                <circle cx="150" cy="93" r="2" fill="#8B4513"/>

                                <!-- Eye -->
                                <circle cx="135" cy="85" r="3" fill="#000"/>

                                <!-- Ear -->
                                <ellipse cx="145" cy="70" rx="8" ry="12" fill="#FFB6C1" transform="rotate(-20 145 70)"/>

                                <!-- Legs -->
                                <rect x="70" y="145" width="12" height="25" fill="#FFB6C1" rx="6" id="leg1"/>
                                <rect x="90" y="145" width="12" height="25" fill="#FFB6C1" rx="6" id="leg2"/>
                                <rect x="110" y="145" width="12" height="25" fill="#FFB6C1" rx="6" id="leg3"/>
                                <rect x="130" y="145" width="12" height="25" fill="#FFB6C1" rx="6" id="leg4"/>

                                <!-- Tail -->
                                <path d="M 50 110 Q 30 105 25 95 Q 20 90 25 85" stroke="#FFB6C1" stroke-width="4" fill="none" stroke-linecap="round"/>

                                <!-- Coin Slot -->
                                <rect x="90" y="85" width="20" height="3" fill="#8B4513" rx="1"/>

                                <!-- Money fill level (will be animated) -->
                                <rect x="50" y="150" width="100" height="0" fill="#FFD700" opacity="0.6" id="moneyFill" rx="5"/>

                                <!-- Coins (appear at milestones) -->
                                <g id="coins" opacity="0">
                                    <circle cx="80" cy="95" r="6" fill="#FFD700" stroke="#DAA520" stroke-width="1"/>
                                    <circle cx="95" cy="100" r="6" fill="#FFD700" stroke="#DAA520" stroke-width="1"/>
                                    <circle cx="110" cy="95" r="6" fill="#FFD700" stroke="#DAA520" stroke-width="1"/>
                                </g>
                            </svg>
                            <div class="progress-visual-label">
                                <div class="progress-visual-value" id="piggyMoneyValue">0â‚¬</div>
                                <div class="progress-visual-text">Gespart</div>
                                <div class="progress-visual-goal" id="piggyGoalText">Ziel: 1000â‚¬</div>
                            </div>
                        </div>

                        <!-- Cemetery Visualization (Cigarettes) -->
                        <div class="progress-visual-item">
                            <svg class="cemetery-svg" viewBox="0 0 200 220" xmlns="http://www.w3.org/2000/svg">
                                <!-- Ground -->
                                <rect x="0" y="180" width="200" height="40" fill="#4a5568" opacity="0.3"/>
                                <rect x="0" y="185" width="200" height="35" fill="#2d3748" opacity="0.5"/>

                                <!-- Grass -->
                                <path d="M 0 180 Q 20 175 40 180 T 80 180 T 120 180 T 160 180 T 200 180" fill="#2f4f2f" opacity="0.4"/>

                                <!-- Small graves (< 100 cigarettes) -->
                                <g id="smallGraves" opacity="0">
                                    <rect x="30" y="155" width="25" height="30" fill="#5a5a5a" rx="3"/>
                                    <rect x="32" y="157" width="21" height="2" fill="#fff" opacity="0.3"/>
                                    <rect x="70" y="160" width="20" height="25" fill="#5a5a5a" rx="3"/>
                                    <rect x="72" y="162" width="16" height="2" fill="#fff" opacity="0.3"/>
                                </g>

                                <!-- Medium gravestones (100-500 cigarettes) -->
                                <g id="mediumGraves" opacity="0">
                                    <path d="M 105 165 L 105 145 Q 105 135 115 135 Q 125 135 125 145 L 125 165 Z" fill="#6a6a6a"/>
                                    <rect x="107" y="150" width="16" height="2" fill="#fff" opacity="0.3"/>
                                    <text x="115" y="155" text-anchor="middle" font-size="10" fill="#fff" opacity="0.5">RIP</text>

                                    <path d="M 145 170 L 145 150 Q 145 140 155 140 Q 165 140 165 150 L 165 170 Z" fill="#6a6a6a"/>
                                    <rect x="147" y="155" width="16" height="2" fill="#fff" opacity="0.3"/>
                                </g>

                                <!-- Large cemetery (500-1000 cigarettes) -->
                                <g id="largeGraves" opacity="0">
                                    <path d="M 20 130 L 20 105 Q 20 95 30 95 Q 40 95 40 105 L 40 130 Z" fill="#7a7a7a"/>
                                    <line x1="25" y1="95" x2="25" y2="85" stroke="#7a7a7a" stroke-width="4"/>
                                    <line x1="20" y1="90" x2="30" y2="90" stroke="#7a7a7a" stroke-width="4"/>
                                    <text x="30" y="115" text-anchor="middle" font-size="9" fill="#fff" opacity="0.6">ğŸš¬</text>

                                    <path d="M 160 125 L 160 100 Q 160 90 170 90 Q 180 90 180 100 L 180 125 Z" fill="#7a7a7a"/>
                                    <line x1="165" y1="90" x2="165" y2="80" stroke="#7a7a7a" stroke-width="4"/>
                                    <line x1="160" y1="85" x2="170" y2="85" stroke="#7a7a7a" stroke-width="4"/>
                                </g>

                                <!-- Epic cemetery scene (> 1000 cigarettes) -->
                                <g id="epicGraves" opacity="0">
                                    <!-- Fence -->
                                    <rect x="5" y="100" width="3" height="80" fill="#3a3a3a"/>
                                    <rect x="192" y="100" width="3" height="80" fill="#3a3a3a"/>
                                    <rect x="5" y="100" width="190" height="3" fill="#3a3a3a"/>

                                    <!-- Moon -->
                                    <circle cx="30" cy="30" r="15" fill="#f4f4f4" opacity="0.8"/>
                                    <circle cx="35" cy="27" r="13" fill="#1a1a2e"/>
                                </g>

                                <!-- Cigarette icons falling (animated) -->
                                <g id="fallingCigarettes" opacity="0">
                                    <rect x="60" y="20" width="3" height="12" fill="#fff" rx="1" class="cig-fall cig1"/>
                                    <rect x="120" y="10" width="3" height="12" fill="#fff" rx="1" class="cig-fall cig2"/>
                                    <rect x="150" y="30" width="3" height="12" fill="#fff" rx="1" class="cig-fall cig3"/>
                                </g>
                            </svg>
                            <div class="progress-visual-label">
                                <div class="progress-visual-value" id="cemeteryCigarettesValue">0</div>
                                <div class="progress-visual-text">Zigaretten vermieden</div>
                                <div class="progress-visual-goal" id="cemeteryGoalText">Ziel: 1000</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card primary">
                    <div class="stat-icon">ğŸ“…</div>
                    <div class="stat-value" id="daysSmokeFree">0</div>
                    <div class="stat-label">Zeit rauchfrei</div>
                    <div class="stat-info">Seit deinem Rauchstopp</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-icon">ğŸ’°</div>
                    <div class="stat-value" id="moneySaved">0 â‚¬</div>
                    <div class="stat-label">Geld gespart</div>
                    <div class="stat-info">Basierend auf 12 Zig./Tag Ã  0,50â‚¬</div>
                </div>
                <div class="stat-card info">
                    <div class="stat-icon">ğŸš¬</div>
                    <div class="stat-value" id="cigarettesNotSmoked">0</div>
                    <div class="stat-label">Nicht geraucht</div>
                    <div class="stat-info">12 Zigaretten pro Tag vermieden</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-icon">â³</div>
                    <div class="stat-value" id="lifeGained">0</div>
                    <div class="stat-label">Lebenszeit gewonnen</div>
                    <div class="stat-info">~11 Minuten pro Zigarette</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-icon">â˜ ï¸</div>
                    <div class="stat-value" id="toxinsAvoided">0 g</div>
                    <div class="stat-label">Schadstoffe vermieden</div>
                    <div class="stat-info">Nikotin, Teer & Co.</div>
                </div>
                <div class="stat-card health">
                    <div class="stat-icon" id="lungIcon">ğŸ«</div>
                    <div class="stat-value" id="lungHealth">0%</div>
                    <div class="stat-label">Lungengesundheit</div>
                    <div class="stat-info">Regeneration Ã¼ber 10 Jahre</div>
                </div>
                <div class="stat-card accent">
                    <div class="stat-icon">â±ï¸</div>
                    <div class="stat-value" id="timeSaved">0</div>
                    <div class="stat-label">Zeit gespart</div>
                    <div class="stat-info">~5 Min. pro Zigarette (inkl. Vorbereitung)</div>
                </div>
                <div class="stat-card beauty">
                    <div class="stat-icon">âœ¨</div>
                    <div class="stat-value" id="skinAge">0 Tage</div>
                    <div class="stat-label">Haut verjÃ¼ngt</div>
                    <div class="stat-info">Max. ~30 Tage nach 9 Monaten</div>
                </div>
            </div>

                <!-- Environmental Impact -->
                <div class="card environmental-card">
                    <h2>ğŸŒ± Dein Beitrag fÃ¼r die Umwelt</h2>
                    <div class="environmental-stats">
                        <div class="environmental-item">
                            <div class="environmental-icon">ğŸ’§</div>
                            <div class="environmental-content">
                                <div class="environmental-value" id="waterSaved">0</div>
                                <div class="environmental-label">Liter Wasser gespart</div>
                                <div class="environmental-info">Zigarettenproduktion verbraucht ~3.7L pro Zigarette</div>
                            </div>
                        </div>
                        <div class="environmental-item">
                            <div class="environmental-icon">ğŸŒ³</div>
                            <div class="environmental-content">
                                <div class="environmental-value" id="treesSaved">0</div>
                                <div class="environmental-label">BÃ¤ume geschÃ¼tzt</div>
                                <div class="environmental-info">Pro 300 Zigaretten wird ~1 Baum fÃ¼r Trocknung benÃ¶tigt</div>
                            </div>
                        </div>
                        <div class="environmental-item">
                            <div class="environmental-icon">ğŸŒ</div>
                            <div class="environmental-content">
                                <div class="environmental-value" id="co2Avoided">0 kg</div>
                                <div class="environmental-label">COâ‚‚ vermieden</div>
                                <div class="environmental-info">~14g COâ‚‚ pro Zigarette (Produktion + Transport)</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab Panel: Meilensteine -->
            <div class="tab-panel" data-panel="milestones">
                <!-- What's Happening NOW -->
                <div class="card happening-now-card">
                    <h2>â° Was passiert gerade JETZT in deinem KÃ¶rper?</h2>
                    <div class="happening-now-content" id="happeningNowContent">
                        <div class="happening-icon" id="happeningIcon">ğŸ«</div>
                        <div class="happening-text">
                            <div class="happening-title" id="happeningTitle">Deine Regeneration lÃ¤uft...</div>
                            <div class="happening-description" id="happeningDescription">In diesem Moment arbeitet dein KÃ¶rper daran, sich zu erholen.</div>
                        </div>
                    </div>
                    <div class="happening-progress">
                        <div class="happening-bar" id="happeningBar"></div>
                    </div>
                    <div class="happening-next" id="happeningNext">NÃ¤chste Phase in X Stunden</div>
                </div>

                <div class="card">
                    <h2>Gesundheits-Meilensteine</h2>
                    <div id="healthMilestones" class="milestones"></div>
                </div>
            </div>

            <!-- Tab Panel: Erfolge -->
            <div class="tab-panel" data-panel="achievements">
                <div class="card">
                    <h2>Erfolge</h2>
                    <div id="achievements" class="achievements-grid"></div>
                </div>
            </div>

            <!-- Tab Panel: Statistiken -->
            <div class="tab-panel" data-panel="statistics">
                <!-- Health Score Gauge -->
                <div class="card health-score-card">
                    <h2>ğŸ’ª Dein Gesundheits-Score</h2>
                    <div class="health-score-container">
                        <svg class="health-gauge" viewBox="0 0 200 120">
                            <path class="gauge-background" d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="#e0e0e0" stroke-width="15" stroke-linecap="round"/>
                            <path id="gaugeProgress" class="gauge-progress" d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="#11998e" stroke-width="15" stroke-linecap="round" stroke-dasharray="251.2" stroke-dashoffset="251.2"/>
                            <text id="gaugeScore" x="100" y="90" text-anchor="middle" font-size="36" font-weight="bold" fill="#333">0</text>
                            <text x="100" y="110" text-anchor="middle" font-size="14" fill="#666">von 100</text>
                        </svg>
                        <div class="health-score-details" id="healthScoreDetails"></div>
                    </div>
                </div>

                <!-- Future Projection -->
                <div class="card projection-card">
                    <h2>ğŸ”® Deine Zukunftsprognose</h2>
                    <div id="futureProjection" class="projection-content"></div>
                </div>

                <!-- Custom Goal Calculator -->
                <div class="card goal-calculator-card">
                    <h2>ğŸ¯ Dein persÃ¶nliches Ziel</h2>
                    <p class="goal-calculator-intro">Berechne, wie lange es dauert oder was du erreichen wirst!</p>

                    <!-- Toggle Mode -->
                    <div class="goal-toggle">
                        <button class="goal-toggle-btn active" data-mode="days">Nach Tagen</button>
                        <button class="goal-toggle-btn" data-mode="money">Nach Geld</button>
                    </div>

                    <!-- Input Section -->
                    <div class="goal-input-section">
                        <div class="goal-input-group" id="daysInputGroup">
                            <label for="goalDaysInput">Wie viele Tage?</label>
                            <input type="number" id="goalDaysInput" placeholder="z.B. 100" min="1" />
                        </div>
                        <div class="goal-input-group hidden" id="moneyInputGroup">
                            <label for="goalMoneyInput">Wie viel Geld (â‚¬)?</label>
                            <input type="number" id="goalMoneyInput" placeholder="z.B. 2000" min="1" />
                        </div>
                        <button id="calculateGoalBtn" class="calculate-goal-btn">Berechnen</button>
                    </div>

                    <!-- Results Section -->
                    <div class="goal-results hidden" id="goalResults">
                        <div class="goal-progress-bar">
                            <div class="goal-progress-fill" id="goalProgressFill"></div>
                            <div class="goal-progress-text" id="goalProgressText">0%</div>
                        </div>

                        <div class="goal-stats-grid" id="goalStatsGrid">
                            <!-- Will be filled by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Progress Chart -->
                <div class="card">
                    <h2>Fortschritt</h2>
                    <canvas id="progressChart"></canvas>
                </div>

                <!-- Detailed Comparison -->
                <div class="card comparison-card">
                    <h2>ğŸ† Du bist stÃ¤rker als der Durchschnitt!</h2>
                    <div id="comparisonStats" class="comparison-content"></div>
                    <div id="detailedComparison" class="detailed-comparison"></div>
                </div>

                <!-- Age Group Comparison -->
                <div class="card age-comparison-card">
                    <h2>ğŸ‘¥ Vergleich mit deiner Altersgruppe</h2>
                    <div id="ageGroupComparison" class="age-comparison-content"></div>
                </div>

                <!-- Milestone Timeline -->
                <div class="card timeline-card">
                    <h2>ğŸ¯ Deine Meilenstein-Reise</h2>
                    <div id="milestoneTimeline" class="milestone-timeline"></div>
                </div>
            </div>

            <!-- Tab Panel: Hilfe -->
            <div class="tab-panel" data-panel="help">
                <!-- Craving Button -->
                <div class="card craving-button-card">
                    <button id="cravingButton" class="craving-button">
                        ğŸ†˜ Akutes Verlangen - Jetzt Hilfe!
                    </button>
                    <p class="craving-button-hint">Klicke hier fÃ¼r sofortige UnterstÃ¼tzung mit einem 5-Minuten-Timer</p>
                </div>

                <div class="card craving-tips-card">
                <h2>ğŸ’¡ Tipps gegen akutes Verlangen</h2>
                <div class="craving-tips">
                    <div class="tip">
                        <div class="tip-icon">â±ï¸</div>
                        <div class="tip-content">
                            <h3>5-Minuten-Regel</h3>
                            <p>Warte 5 Minuten. Das Verlangen wird von selbst schwÃ¤cher!</p>
                        </div>
                    </div>
                    <div class="tip">
                        <div class="tip-icon">ğŸ’§</div>
                        <div class="tip-content">
                            <h3>Wasser trinken</h3>
                            <p>Ein groÃŸes Glas Wasser trinken lenkt ab und hilft.</p>
                        </div>
                    </div>
                    <div class="tip">
                        <div class="tip-icon">ğŸš¶</div>
                        <div class="tip-content">
                            <h3>Kurzer Spaziergang</h3>
                            <p>Bewege dich 5-10 Minuten. Frische Luft hilft!</p>
                        </div>
                    </div>
                    <div class="tip">
                        <div class="tip-icon">ğŸ«</div>
                        <div class="tip-content">
                            <h3>Tief durchatmen</h3>
                            <p>10x tief ein- und ausatmen. Beruhigt sofort.</p>
                        </div>
                    </div>
                    <div class="tip">
                        <div class="tip-icon">ğŸ“±</div>
                        <div class="tip-content">
                            <h3>Jemanden anrufen</h3>
                            <p>Ruf eine unterstÃ¼tzende Person an und rede.</p>
                        </div>
                    </div>
                    <div class="tip">
                        <div class="tip-icon">ğŸ</div>
                        <div class="tip-content">
                            <h3>Gesunder Snack</h3>
                            <p>Obst, GemÃ¼se oder Kaugummi lenken den Mund ab.</p>
                        </div>
                    </div>
                </div>
                </div>

                <!-- Shocking Facts -->
                <div class="card shocking-facts-card">
                    <h2>âš ï¸ Warum du aufgehÃ¶rt hast</h2>
                    <p class="shocking-intro">Diese Fakten erinnern dich daran, warum jede Zigarette ein Fehler wÃ¤re:</p>

                    <div class="shocking-facts-grid">
                        <!-- Fact 1 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ’€</div>
                            <div class="shocking-number">170.000</div>
                            <div class="shocking-label">Tote pro Jahr in Deutschland</div>
                            <div class="shocking-detail">Jeder 7. Todesfall durch Rauchen</div>
                        </div>

                        <!-- Fact 2 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸŒ</div>
                            <div class="shocking-number">8 Mio.</div>
                            <div class="shocking-label">Tote weltweit pro Jahr</div>
                            <div class="shocking-detail">Mehr als Alkohol, AIDS & Drogen zusammen</div>
                        </div>

                        <!-- Fact 3 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">â³</div>
                            <div class="shocking-number">-10 Jahre</div>
                            <div class="shocking-label">Lebenserwartung</div>
                            <div class="shocking-detail">Raucher sterben im Schnitt 10 Jahre frÃ¼her</div>
                        </div>

                        <!-- Fact 4 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ«</div>
                            <div class="shocking-number">90%</div>
                            <div class="shocking-label">Lungenkrebs durch Rauchen</div>
                            <div class="shocking-detail">7x hÃ¶heres Risiko als Nichtraucher</div>
                        </div>

                        <!-- Fact 5 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ«€</div>
                            <div class="shocking-number">3x</div>
                            <div class="shocking-label">Herzinfarktrisiko</div>
                            <div class="shocking-detail">Schlaganfallrisiko 2-3x hÃ¶her</div>
                        </div>

                        <!-- Fact 6 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ¦ </div>
                            <div class="shocking-number">88.000</div>
                            <div class="shocking-label">Neue KrebsfÃ¤lle/Jahr (DE)</div>
                            <div class="shocking-detail">Nur durch Rauchen verursacht</div>
                        </div>

                        <!-- Fact 7 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ’¨</div>
                            <div class="shocking-number">90%</div>
                            <div class="shocking-label">COPD-Patienten</div>
                            <div class="shocking-detail">Sind oder waren Raucher</div>
                        </div>

                        <!-- Fact 8 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">â±ï¸</div>
                            <div class="shocking-number">11 Min</div>
                            <div class="shocking-label">Lebenszeit pro Zigarette</div>
                            <div class="shocking-detail">Jede Zigarette verkÃ¼rzt dein Leben</div>
                        </div>

                        <!-- Fact 9 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ¦µ</div>
                            <div class="shocking-number">Raucherbein</div>
                            <div class="shocking-label">Amputation droht</div>
                            <div class="shocking-detail">DurchblutungsstÃ¶rungen in Beinen</div>
                        </div>

                        <!-- Fact 10 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ‘ï¸</div>
                            <div class="shocking-number">Erblindung</div>
                            <div class="shocking-label">Netzhautdegeneration</div>
                            <div class="shocking-detail">Rauchen schÃ¤digt die Augen</div>
                        </div>

                        <!-- Fact 11 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ¼</div>
                            <div class="shocking-number">Unfruchtbarkeit</div>
                            <div class="shocking-label">PotenzstÃ¶rungen</div>
                            <div class="shocking-detail">Schlechte SpermienqualitÃ¤t</div>
                        </div>

                        <!-- Fact 12 -->
                        <div class="shocking-fact">
                            <div class="shocking-icon">ğŸ¦·</div>
                            <div class="shocking-number">Zahnverlust</div>
                            <div class="shocking-label">Zahnfleischerkrankungen</div>
                            <div class="shocking-detail">2x hÃ¶heres Risiko fÃ¼r Zahnausfall</div>
                        </div>
                    </div>

                    <div class="shocking-reminder">
                        <strong>Du hast RICHTIG entschieden!</strong> Mit jedem rauchfreien Tag rettest du dein Leben.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Craving Timer Overlay -->
    <div id="cravingOverlay" class="craving-overlay hidden">
        <div class="craving-overlay-content">
            <!-- Close Button -->
            <button id="cravingCloseBtn" class="craving-close-btn">âœ•</button>

            <!-- Breathing Animation -->
            <div class="breathing-container">
                <div class="breathing-circle"></div>
                <div class="breathing-text" id="breathingText">Einatmen</div>
            </div>

            <!-- Timer Display -->
            <div class="craving-timer">
                <div class="timer-display" id="timerDisplay">5:00</div>
                <div class="timer-label">Das Verlangen vergeht...</div>
            </div>

            <!-- Random Tip -->
            <div class="craving-tip-display" id="cravingTipDisplay">
                <div class="tip-icon-large">ğŸ’ª</div>
                <div class="tip-text" id="cravingTipText">Atme tief ein und aus. Du schaffst das!</div>
            </div>

            <!-- Success Message (hidden initially) -->
            <div class="craving-success hidden" id="cravingSuccess">
                <div class="success-icon">ğŸ‰</div>
                <h2>Geschafft!</h2>
                <p>Du hast es 5 Minuten durchgehalten!</p>
                <div class="success-stats" id="successStats"></div>
                <button class="success-close-btn" id="successCloseBtn">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Main App (ES6 Module) -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
